{"version":3,"sources":["components/AbilityController.js","hook/useHeroDataCheck.js","utils/toasts.js","view/HeroProfile.js","components/HeroeCards.js","components/LottieAnimat.js","view/HeroList.js","hook/useTimer.js","App.js","index.js"],"names":["Text","styled","div","QuantityBox","QuantityButton","button","QuantityDisableButton","AbilityController","abilityData","set","total","currentAbility","currentAbilityQuantity","obj","useState","abilityQuantityCount","setAbilityQuantityCount","incrementState","setIncrementState","HandleAbiltyData","abilityCount","lastAbilityCount","data","last","useEffect","toUpperCase","onClick","id","useHeroDataCheck","host_name","callback","HeroData","setHeroData","a","fetch","then","res","json","heroesData","API","toastStyle","borderRadius","background","color","Name","Box","CheckBox","CheckButton","ButtonDisable","HeroProfile","useParams","ability","setAbility","abilityTotal","setAbilityTotal","abilitys","Object","entries","map","index","method","headers","body","JSON","stringify","ok","toast","style","Error","Card","Photo","HeroeCards","selected","to","textDecoration","border","src","image","alt","name","Test","paddingTop","Loading","props","lottie","loadAnimation","container","document","querySelector","animationData","Loader","CardList","HeroList","setSelected","heroes","e","target","hero","useTimer","loaderShow","setLoaderShow","timer","setTimeout","clearTimeout","AppBox","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ad3d9e4c.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nconst Text = styled.div`\n  width: 60px;\n  color: #1a1a1a;\n  text-align: center;\n  font-size: 20px;\n  margin: 6px 14px;\n`;\n\nconst QuantityBox = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst QuantityButton = styled.button`\n  width: 24px;\n  border-radius: 4px;\n  outline: none;\n  background: #fff;\n  border: solid #979797 0.5px;\n  font-size: 14px;\n\n  &:hover {\n    background: #2d2d2d;\n    color: #fff;\n  }\n`;\n\nconst QuantityDisableButton = styled(QuantityButton)`\n  background: #dadada;\n  color: #9a9a9a;\n  border: #cecece solid 0.5px;\n  cursor: not-allowed;\n  &:hover {\n    background: #dadada;\n    color: #9a9a9a;\n  }\n`;\n\nfunction AbilityController({ abilityData, set, total }) {\n  const currentAbility = abilityData[0];\n  const currentAbilityQuantity = abilityData[1];\n  const obj = total.obj;\n\n  const [abilityQuantityCount, setAbilityQuantityCount] = useState(currentAbilityQuantity);\n  const [incrementState, setIncrementState] = useState(false);\n\n  function HandleAbiltyData(abilityCount, lastAbilityCount) {\n    setAbilityQuantityCount(abilityCount);\n    const data = { obj: { ...obj, [currentAbility]: abilityCount }, last: lastAbilityCount };\n    set(data);\n  }\n\n  function decrementHandler() {\n    if (abilityQuantityCount !== 0) {\n      HandleAbiltyData(abilityQuantityCount - 1, total.last + 1);\n    }\n  }\n\n  function incrementHandler() {\n    if (total.last === 0) {\n      setIncrementState(true);\n    } else {\n      HandleAbiltyData(abilityQuantityCount + 1, total.last - 1);\n      setIncrementState(false);\n    }\n  }\n\n  useEffect(() => {\n    setAbilityQuantityCount(currentAbilityQuantity);\n  }, [currentAbilityQuantity]);\n\n  useEffect(() => {\n    if (total && total.last === 0) {\n      setIncrementState(true);\n    } else {\n      setIncrementState(false);\n    }\n  }, [abilityQuantityCount, total]);\n\n  return (\n    <QuantityBox>\n      <Text>{currentAbility.toUpperCase()}</Text>\n      {!incrementState ? (\n        <QuantityButton onClick={incrementHandler} id=\"increment\">\n          +\n        </QuantityButton>\n      ) : (\n        <QuantityDisableButton>+</QuantityDisableButton>\n      )}\n      <Text>{abilityQuantityCount}</Text>\n      {abilityQuantityCount !== 0 ? (\n        <QuantityButton onClick={decrementHandler} id=\"decrement\">\n          -\n        </QuantityButton>\n      ) : (\n        <QuantityDisableButton>-</QuantityDisableButton>\n      )}\n    </QuantityBox>\n  );\n}\n\nexport default AbilityController;\n","import { useEffect, useState } from 'react';\n\nfunction useHeroDataCheck(host_name, callback) {\n  const [HeroData, setHeroData] = useState([]);\n\n  useEffect(() => {\n    async function API() {\n      fetch(`${host_name}`).then(async (res) => {\n        const heroesData = await res.json();\n        setHeroData(heroesData);\n        if (callback) callback(heroesData);\n      });\n    }\n    API();\n  }, [host_name]);\n\n  return HeroData;\n}\n\nexport default useHeroDataCheck;\n","import toast from 'react-hot-toast';\n\nconst toastStyle = {\n  borderRadius: '4px',\n  background: '#333',\n  color: '#fff'\n};\n\nconst upLoadSuccessnNotify = () =>\n  toast('儲存成功', {\n    style: toastStyle\n  });\n\nexport { upLoadSuccessnNotify };\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useParams } from 'react-router-dom';\n\nimport AbilityController from '../components/AbilityController';\nimport useHeroDataCheck from '../hook/useHeroDataCheck';\n\nimport { upLoadSuccessnNotify } from '../utils/toasts';\n\nconst Name = styled.div`\n  width: 130px;\n  color: #1a1a1a;\n  text-align: center;\n  font-size: 20px;\n  margin: 18px 0;\n`;\n\nconst Box = styled.div`\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n  width: 100%;\n`;\n\nconst CheckBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  margin-right: 21px;\n`;\n\nconst CheckButton = styled.button`\n  border: none;\n  outline: none;\n  height: 40px;\n\n  background: #2d2d2d;\n  color: #fff;\n\n  padding: 0.1em 1.2em;\n  font-size: 15px;\n  font-weight: bold;\n  line-height: 36px;\n  border-radius: 4px;\n\n  cursor: pointer;\n  transition: all 150ms ease-in-out;\n\n  &:hover {\n    background: #040404;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst ButtonDisable = styled(CheckButton)`\n  background: #d6d6d6;\n  color: #a5a5a5;\n  cursor: not-allowed;\n\n  &:focus {\n    background: #d6d6d6;\n    color: #a5a5a5;\n  }\n  &:hover {\n    background: #d6d6d6;\n    color: #a5a5a5;\n  }\n`;\n\nfunction HeroProfile() {\n  const { id } = useParams();\n  const [ability, setAbility] = useState([]);\n  const [abilityTotal, setAbilityTotal] = useState({});\n\n  const host_name = `https://hahow-recruit.herokuapp.com/heroes/${id}/profile`;\n\n  function upLoadData() {\n    fetch(`${host_name}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(abilityTotal.obj)\n    }).then(async (res) => {\n      if (res.ok) {\n        upLoadSuccessnNotify();\n      } else {\n        throw new Error('Network response was not ok.');\n      }\n    });\n  }\n\n  function setAbilityTotalData(abilitys) {\n    const data = {\n      obj: abilitys,\n      last: 0\n    };\n    setAbilityTotal(data);\n  }\n\n  function renderController() {\n    return Object.entries(ability).map((data, index) => (\n      <AbilityController abilityData={data} total={abilityTotal} set={setAbilityTotal} key={index}></AbilityController>\n    ));\n  }\n\n  useHeroDataCheck(host_name, setAbilityTotalData);\n\n  useEffect(() => {\n    setAbility(abilityTotal.obj);\n  }, [abilityTotal]);\n\n  return ability ? (\n    <Box>\n      <div>{renderController()}</div>\n      <CheckBox>\n        <Name>剩餘點數：{abilityTotal.last}</Name>\n        {abilityTotal.last !== 0 ? (\n          <ButtonDisable>儲存</ButtonDisable>\n        ) : (\n          <CheckButton onClick={upLoadData}>儲存</CheckButton>\n        )}\n      </CheckBox>\n    </Box>\n  ) : null;\n}\n\nexport default HeroProfile;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst Card = styled.div`\n  width: 200px;\n  height: auto;\n  border: 1px solid #e4e4e4;\n  display: flex;\n  margin: 12px;\n  border-radius: 4px;\n  flex-direction: column;\n  align-content: center;\n\n  &:hover {\n    box-shadow: 0 0px 6px rgba(0, 0, 0, 0.15);\n  }\n`;\n\nconst Photo = styled.div`\n  img {\n    width: 80%;\n    border-radius: 50%;\n    margin: auto;\n    display: block;\n    padding-top: 10px;\n  }\n`;\n\nconst Name = styled.div`\n  color: #1a1a1a;\n  text-align: center;\n  font-size: 20px;\n  margin: 18px 0;\n`;\n\nfunction HeroeCards({ data, selected }) {\n  return (\n    <Link to={`/heroes/${data.id}`} style={{ textDecoration: 'none' }}>\n      <Card id={data.id} style={{ border: selected === data.id ? '1px solid #2d2d2d' : '1px solid #e4e4e4' }}>\n        <Photo id={data.id}>\n          <img src={data.image} alt=\"\" id={data.id}></img>\n        </Photo>\n        <Name id={data.id}>{data.name}</Name>\n      </Card>\n    </Link>\n  );\n}\n\nexport default HeroeCards;\n","import React, { useEffect, useState } from 'react';\nimport lottie from 'lottie-web';\nimport Loader from '../utils/static/loader.json';\n\nimport styled from 'styled-components';\n\nconst Test = styled.div`\n  width: auto;\n  height: 500px;\n  padding-top: ${({ paddingTop }) => (paddingTop ? paddingTop : '20vh')};\n`;\n\nfunction Loading(props) {\n  const { paddingTop } = props;\n\n  useEffect(() => {\n    lottie.loadAnimation({\n      container: document.querySelector('#loader'),\n      animationData: Loader\n    });\n  }, []);\n\n  //   useEffect(() => {\n  //     const timer = setTimeout(() => {\n  //       setLoaderShow(false);\n  //     }, 3000);\n\n  //     return () => clearTimeout(timer);\n  //   }, []);\n\n  return (\n    <div>\n      <Test id=\"loader\" paddingTop={paddingTop}></Test>\n    </div>\n  );\n}\n\nexport { Loading };\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport HeroeCards from '../components/HeroeCards';\nimport useHeroDataCheck from '../hook/useHeroDataCheck';\nimport { Loading } from '../components/LottieAnimat';\n\nconst CardList = styled.div`\n  display: flex;\n  margin: auto;\n  border-radius: 4px;\n  flex-direction: row;\n  align-content: center;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nfunction HeroList() {\n  const [selected, setSelected] = useState(false);\n  // const [loaderShow, setLoaderShow] = useState(true);\n  const host_name = `https://hahow-recruit.herokuapp.com/heroes`;\n\n  const heroes = useHeroDataCheck(host_name);\n  function handler(e) {\n    setSelected(e.target.id);\n  }\n\n  // useEffect(() => {\n  //   const timer = setTimeout(() => {\n  //     setLoaderShow(false);\n  //   }, 3000);\n\n  //   return () => clearTimeout(timer);\n  // }, []);\n\n  return (\n    <>\n      <CardList onClick={handler}>\n        {heroes.map((hero) => (\n          <HeroeCards data={hero} key={hero.id} selected={selected} />\n        ))}\n      </CardList>\n    </>\n  );\n}\n\nexport default HeroList;\n","import { useEffect, useState } from 'react';\n\nfunction useTimer() {\n  const [loaderShow, setLoaderShow] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setLoaderShow(false);\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  return loaderShow;\n}\n\nexport default useTimer;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\n\nimport HeroProfile from './view/HeroProfile';\nimport HeroList from './view/HeroList';\nimport { Loading } from './components/LottieAnimat';\nimport useTimer from './hook/useTimer';\n\nconst AppBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  align-items: center;\n  max-width: 920px;\n  width: auto;\n  margin: auto;\n`;\n\nfunction App() {\n  const timer = useTimer();\n\n  return (\n    <AppBox>\n      <Toaster />\n      <Router>\n        {timer ? <Loading /> : <HeroList />}\n\n        <Switch>\n          <Route path=\"/heroes/:id\">{timer ? null : <HeroProfile />}</Route>\n          <Redirect to=\"/hahow-heroes/heroes\" />\n        </Switch>\n      </Router>\n    </AppBox>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}